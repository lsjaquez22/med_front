(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["client-form"],{"0152":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("title-bar",{attrs:{"title-stack":t.titleStack}}),a("hero-bar",[a("router-link",{staticClass:"button",attrs:{slot:"right",to:t.heroRouterLinkTo},slot:"right"},[t._v(" "+t._s(t.heroRouterLinkLabel)+" ")])],1),a("section",{staticClass:"section is-main-section"},[a("tiles",[a("card-component",{staticClass:"tile is-child",attrs:{title:t.formCardTitle,icon:"account-edit"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-field",{attrs:{label:"Avatar",horizontal:""}},[a("file-picker")],1),a("hr"),a("b-field",{attrs:{label:"Nombre",message:"Campo Requerido",horizontal:""}},[a("b-input",{attrs:{placeholder:"e.g. John Doe",required:""},model:{value:t.nameToEdit,callback:function(e){t.nameToEdit=e},expression:"nameToEdit"}})],1),a("b-field",{attrs:{label:"Correo",message:"Campo Requerido",horizontal:""}},[a("b-input",{attrs:{placeholder:"e.g. Geoffreyton",required:""},model:{value:t.emailToEdit,callback:function(e){t.emailToEdit=e},expression:"emailToEdit"}})],1),a("b-field",{attrs:{label:"ContraÃ±sea",horizontal:""}},[a("b-input",{attrs:{type:"password"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),a("b-field",{attrs:{label:"Hospital",message:"Campo Requerido",horizontal:""}},[a("b-select",{attrs:{placeholder:"Seleccionar Hospital",required:""},model:{value:t.hospitalToEdit,callback:function(e){t.hospitalToEdit=e},expression:"hospitalToEdit"}},t._l(t.hospitales,(function(e,i){return a("option",{key:i,domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ")])})),0)],1),a("hr"),a("div",{staticClass:"footer-menu-cliente"},[a("b-field",{attrs:{horizontal:""}},[a("b-button",{attrs:{type:"is-success",loading:t.isLoading,"native-type":"submit"},on:{click:function(e){return t.updateData()}}},[t._v("Guardar")])],1),a("router-link",{staticClass:"button is-danger",attrs:{slot:"right",to:"/admin/doctores"},slot:"right"},[t._v(" Cancelar ")])],1)],1)]),t.isProfileExists?a("card-component",{staticClass:"tile is-child",attrs:{title:"Doctor Profile",icon:"account"}},[a("user-avatar",{staticClass:"image has-max-width is-aligned-center",attrs:{avatar:t.form.avatar}}),a("hr"),a("b-field",{attrs:{label:"Nombre"}},[a("b-input",{attrs:{value:t.form.username,"custom-class":"is-static",readonly:""}})],1),a("b-field",{attrs:{label:"Hospital"}},[a("b-input",{attrs:{value:t.form.hospital,"custom-class":"is-static",readonly:""}})],1),a("b-field",{attrs:{label:"Correo"}},[a("b-input",{attrs:{value:t.form.email,"custom-class":"is-static",readonly:""}})],1),a("hr"),a("b-field",[a("b-button",{attrs:{type:"is-danger",loading:t.isLoading,"native-type":"submit"},on:{click:function(e){return t.deleteData()}}},[t._v("Borrar")])],1)],1):t._e()],1)],1)],1)},r=[],o=(a("b0c0"),a("a9e3"),a("bc3a")),n=a.n(o),s=a("5a0c"),l=a.n(s),u=a("1e1d"),c=a("503b"),d=a("9e7c"),h=a("6df7"),m=a("3b73"),f=a("808f"),p={name:"DoctorForm",components:{UserAvatar:f["a"],FilePicker:m["a"],CardComponent:h["a"],Tiles:d["a"],HeroBar:c["a"],TitleBar:u["a"]},props:{id:{type:[String,Number],default:null}},data:function(){return{isLoading:!1,form:this.getClearFormObject(),createdReadable:null,isProfileExists:!1,formToEdit:this.getClearFormObject(),nameToEdit:null,emailToEdit:null,newPassword:null,hospitalToEdit:null,hospitales:[]}},computed:{titleStack:function(){var t;return t=this.isProfileExists?this.form.name:"Nuevo Doctor",["Hospital","Doctores",t]},heroTitle:function(){return this.isProfileExists?this.form.name:"Nuevo Doctor"},heroRouterLinkTo:function(){return this.isProfileExists?{name:"doctor.new"}:"/admin/doctores"},heroRouterLinkLabel:function(){return this.isProfileExists?"Nuevo Doctor":"Dashboard Doctores"},formCardTitle:function(){return this.isProfileExists?"Edit Doctor":"Nuevo Doctor"}},watch:{id:function(t){this.isProfileExists=!1,t?this.getData():(this.form=this.getClearFormObject(),this.nameToEdit=null,this.emailToEdit=null,this.newPassword=null,this.hospitalToEdit=null)}},created:function(){this.getData()},methods:{getClearFormObject:function(){return{id:null,name:null,company:null,city:null,created_date:new Date,created_mm_dd_yyyy:null,progress:0}},getData:function(){var t=this;this.$route.params.id&&n()({method:"GET",url:"https://patas-app.herokuapp.com/api/doctors/get/".concat(this.$route.params.id),headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.username,t.emailToEdit=a.email,t.hospitalToEdit=a.hospital,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"hospital.new"})})).catch((function(e){t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})})),n()({method:"GET",url:"https://patas-app.herokuapp.com/api/hospital",headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){t.hospitales=e.data})).catch((function(e){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger"})}))},updateData:function(){var t=this;this.isProfileExists?n()({method:"PUT",url:"https://patas-app.herokuapp.com/api/doctor/update/".concat(this.$route.params.id),headers:{"x-access-token":localStorage.getItem("jwt")},data:{username:this.nameToEdit,email:this.emailToEdit,hospital:this.hospitalToEdit}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.username,t.emailToEdit=a.email,t.hospitalToEdit=a.hospital,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"hospital.new"})})):n()({method:"POST",url:"https://patas-app.herokuapp.com/api/admin/signup",headers:{"x-access-token":localStorage.getItem("jwt")},data:{username:this.nameToEdit,email:this.emailToEdit,hospital:this.hospitalToEdit,password:this.newPassword}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.username,t.emailToEdit=a.email,t.hospitalToEdit=a.hospital,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"client.new"})}))},deleteData:function(){var t=this;n()({method:"DELETE",url:"https://patas-app.herokuapp.com/api/doctor/delete/".concat(this.$route.params.id),headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){t.$router.push({name:"Doctores admin"})}))},input:function(t){this.createdReadable=l()(t).format("MMM D, YYYY")},submit:function(){var t=this;this.isLoading=!0,setTimeout((function(){t.isLoading=!1,t.$buefy.snackbar.open({message:"OK",queue:!1})}),500)}}},b=p,y=a("2877"),g=Object(y["a"])(b,i,r,!1,null,null,null);e["default"]=g.exports},"5a0c":function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){"use strict";var t="millisecond",e="second",a="minute",i="hour",r="day",o="week",n="month",s="quarter",l="year",u="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(t,e,a){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(a)+t},m={s:h,z:function(t){var e=-t.utcOffset(),a=Math.abs(e),i=Math.floor(a/60),r=a%60;return(e<=0?"+":"-")+h(i,2,"0")+":"+h(r,2,"0")},m:function t(e,a){if(e.date()<a.date())return-t(a,e);var i=12*(a.year()-e.year())+(a.month()-e.month()),r=e.clone().add(i,n),o=a-r<0,s=e.clone().add(i+(o?-1:1),n);return+(-(i+(a-r)/(o?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:n,y:l,w:o,d:r,D:u,h:i,m:a,s:e,ms:t,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",b={};b[p]=f;var y=function(t){return t instanceof _},g=function(t,e,a){var i;if(!t)return p;if("string"==typeof t)b[t]&&(i=t),e&&(b[t]=e,i=t);else{var r=t.name;b[r]=t,i=r}return!a&&i&&(p=i),i||!a&&p},v=function(t,e){if(y(t))return t.clone();var a="object"==typeof e?e:{};return a.date=t,a.args=arguments,new _(a)},E=m;E.l=g,E.i=y,E.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var _=function(){function h(t){this.$L=this.$L||g(t.locale,null,!0),this.parse(t)}var m=h.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,a=t.utc;if(null===e)return new Date(NaN);if(E.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(c);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!("Invalid Date"===this.$d.toString())},m.isSame=function(t,e){var a=v(t);return this.startOf(e)<=a&&a<=this.endOf(e)},m.isAfter=function(t,e){return v(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<v(t)},m.$g=function(t,e,a){return E.u(t)?this[e]:this.set(a,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,s){var c=this,d=!!E.u(s)||s,h=E.p(t),m=function(t,e){var a=E.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return d?a:a.endOf(r)},f=function(t,e){return E.w(c.toDate()[t].apply(c.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},p=this.$W,b=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(h){case l:return d?m(1,0):m(31,11);case n:return d?m(1,b):m(0,b+1);case o:var v=this.$locale().weekStart||0,_=(p<v?p+7:p)-v;return m(d?y-_:y+(6-_),b);case r:case u:return f(g+"Hours",0);case i:return f(g+"Minutes",1);case a:return f(g+"Seconds",2);case e:return f(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(o,s){var c,d=E.p(o),h="set"+(this.$u?"UTC":""),m=(c={},c[r]=h+"Date",c[u]=h+"Date",c[n]=h+"Month",c[l]=h+"FullYear",c[i]=h+"Hours",c[a]=h+"Minutes",c[e]=h+"Seconds",c[t]=h+"Milliseconds",c)[d],f=d===r?this.$D+(s-this.$W):s;if(d===n||d===l){var p=this.clone().set(u,1);p.$d[m](f),p.init(),this.$d=p.set(u,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](f);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[E.p(t)]()},m.add=function(t,s){var u,c=this;t=Number(t);var d=E.p(s),h=function(e){var a=v(c);return E.w(a.date(a.date()+Math.round(e*t)),c)};if(d===n)return this.set(n,this.$M+t);if(d===l)return this.set(l,this.$y+t);if(d===r)return h(1);if(d===o)return h(7);var m=(u={},u[a]=6e4,u[i]=36e5,u[e]=1e3,u)[d]||1,f=this.$d.getTime()+t*m;return E.w(f,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var a=t||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),r=this.$locale(),o=this.$H,n=this.$m,s=this.$M,l=r.weekdays,u=r.months,c=function(t,i,r,o){return t&&(t[i]||t(e,a))||r[i].substr(0,o)},h=function(t){return E.s(o%12||12,t,"0")},m=r.meridiem||function(t,e,a){var i=t<12?"AM":"PM";return a?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:E.s(s+1,2,"0"),MMM:c(r.monthsShort,s,u,3),MMMM:c(u,s),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,l,2),ddd:c(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:E.s(o,2,"0"),h:h(1),hh:h(2),a:m(o,n,!0),A:m(o,n,!1),m:String(n),mm:E.s(n,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:i};return a.replace(d,(function(t,e){return e||f[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(t,u,c){var d,h=E.p(u),m=v(t),f=6e4*(m.utcOffset()-this.utcOffset()),p=this-m,b=E.m(this,m);return b=(d={},d[l]=b/12,d[n]=b,d[s]=b/3,d[o]=(p-f)/6048e5,d[r]=(p-f)/864e5,d[i]=p/36e5,d[a]=p/6e4,d[e]=p/1e3,d)[h]||p,c?b:E.a(b)},m.daysInMonth=function(){return this.endOf(n).$D},m.$locale=function(){return b[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var a=this.clone(),i=g(t,e,!0);return i&&(a.$L=i),a},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),D=_.prototype;return v.prototype=D,[["$ms",t],["$s",e],["$m",a],["$H",i],["$W",r],["$M",n],["$y",l],["$D",u]].forEach((function(t){D[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),v.extend=function(t,e){return t(e,_,v),v},v.locale=g,v.isDayjs=y,v.unix=function(t){return v(1e3*t)},v.en=b[p],v.Ls=b,v}))},e96b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("title-bar",{attrs:{"title-stack":t.titleStack}}),a("hero-bar",[a("router-link",{staticClass:"button",attrs:{slot:"right",to:t.heroRouterLinkTo},slot:"right"},[t._v(" "+t._s(t.heroRouterLinkLabel)+" ")])],1),a("section",{staticClass:"section is-main-section"},[a("tiles",[a("card-component",{staticClass:"tile is-child",attrs:{title:t.formCardTitle,icon:"account-edit"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-field",{attrs:{label:"Avatar",horizontal:""}},[a("file-picker",{on:{input:t.image}})],1),a("b-field",{attrs:{label:"Nombre",message:"Campo Requerido",horizontal:""}},[a("b-input",{attrs:{placeholder:"e.g. John Doe",required:""},model:{value:t.nameToEdit,callback:function(e){t.nameToEdit=e},expression:"nameToEdit"}})],1),a("b-field",{attrs:{label:"Telefono",message:"Campo Requerido",horizontal:""}},[a("b-input",{attrs:{placeholder:"e.g. 614-123-45-67",required:""},model:{value:t.phoneToEdit,callback:function(e){t.phoneToEdit=e},expression:"phoneToEdit"}})],1),a("b-field",{attrs:{label:"Codigo de Acceso",horizontal:""}},[a("b-input",{attrs:{placeholder:"-",readonly:""},model:{value:t.form.codigo,callback:function(e){t.$set(t.form,"codigo",e)},expression:"form.codigo"}})],1),a("hr"),a("div",{staticClass:"footer-menu-cliente"},[a("b-field",{attrs:{horizontal:""}},[a("b-button",{attrs:{type:"is-success",loading:t.isLoading,"native-type":"submit"},on:{click:function(e){return t.updateData()}}},[t._v("Guardar")])],1),a("router-link",{staticClass:"button is-danger",attrs:{slot:"right",to:"/"},slot:"right"},[t._v(" Cancelar ")])],1)],1)]),t.isProfileExists?a("card-component",{staticClass:"tile is-child",attrs:{title:"Client Profile",icon:"account"}},[a("user-avatar",{staticClass:"image has-max-width is-aligned-center",attrs:{avatar:t.form.avatar}}),a("hr"),a("b-field",{attrs:{label:"Nombre"}},[a("b-input",{attrs:{value:t.form.nombre,"custom-class":"is-static",readonly:""}})],1),a("b-field",{attrs:{label:"Telefono"}},[a("b-input",{attrs:{value:t.form.telefono,"custom-class":"is-static",readonly:""}})],1),a("b-field",{attrs:{label:"Codigo de Acceso"}},[a("b-input",{attrs:{value:t.form.codigo,"custom-class":"is-static",readonly:""}})],1),a("hr"),a("b-field",[a("b-button",{attrs:{type:"is-danger",loading:t.isLoading,"native-type":"submit"},on:{click:function(e){return t.deleteData()}}},[t._v("Borrar")])],1)],1):t._e()],1)],1)],1)},r=[],o=(a("b0c0"),a("a9e3"),a("bc3a")),n=a.n(o),s=a("5a0c"),l=a.n(s),u=a("1e1d"),c=a("503b"),d=a("9e7c"),h=a("6df7"),m=a("3b73"),f=a("808f"),p={name:"ClientForm",components:{UserAvatar:f["a"],FilePicker:m["a"],CardComponent:h["a"],Tiles:d["a"],HeroBar:c["a"],TitleBar:u["a"]},props:{id:{type:[String,Number],default:null}},data:function(){return{isLoading:!1,form:this.getClearFormObject(),createdReadable:null,isProfileExists:!1,nameToEdit:null,phoneToEdit:null}},computed:{titleStack:function(){var t;return t=this.isProfileExists?this.form.name:"Nuevo Paciente",["Hospital","Paciente",t]},heroTitle:function(){return this.isProfileExists?this.form.name:"Nuevo Paciente"},heroRouterLinkTo:function(){return this.isProfileExists?{name:"client.new"}:"/"},heroRouterLinkLabel:function(){return this.isProfileExists?"Nuevo Paciente":"Dashboard"},formCardTitle:function(){return this.isProfileExists?"Edit Client":"Nuevo Paciente"}},watch:{id:function(t){this.isProfileExists=!1,t?this.getData():(this.form=this.getClearFormObject(),this.nameToEdit=null,this.phoneToEdit=null)}},created:function(){this.getData()},methods:{image:function(t){console.log(t)},getClearFormObject:function(){return{id:null,name:null,company:null,city:null,created_date:new Date,created_mm_dd_yyyy:null,progress:0}},getData:function(){var t=this;this.$route.params.id&&n()({method:"GET",url:"https://patas-app.herokuapp.com/api/paciente/esp",params:{id:this.$route.params.id}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.nombre,t.phoneToEdit=a.telefono,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"client.new"})})).catch((function(e){t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))},updateData:function(){var t=this;this.isProfileExists?n()({method:"PUT",url:"https://patas-app.herokuapp.com/api/paciente/esp",params:{id:this.$route.params.id},data:{nombre:this.nameToEdit,telefono:this.phoneToEdit}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.nombre,t.phoneToEdit=a.telefono,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"client.new"})})):n()({method:"POST",url:"https://patas-app.herokuapp.com/api/paciente/signup",data:{nombre:this.nameToEdit,telefono:this.phoneToEdit,doctor:this.$store.state.userId}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.nombre,t.phoneToEdit=a.telefono,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"client.new"})}))},deleteData:function(){var t=this;n()({method:"DELETE",url:"https://patas-app.herokuapp.com/api/paciente/esp",params:{id:this.$route.params.id}}).then((function(e){t.$router.push({name:"home"})}))},input:function(t){this.createdReadable=l()(t).format("MMM D, YYYY")},submit:function(){var t=this;this.isLoading=!0,setTimeout((function(){t.isLoading=!1,t.$buefy.snackbar.open({message:"Demo only",queue:!1})}),500)}}},b=p,y=a("2877"),g=Object(y["a"])(b,i,r,!1,null,null,null);e["default"]=g.exports},eff1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("title-bar",{attrs:{"title-stack":t.titleStack}}),a("hero-bar",[a("router-link",{staticClass:"button",attrs:{slot:"right",to:t.heroRouterLinkTo},slot:"right"},[t._v(" "+t._s(t.heroRouterLinkLabel)+" ")])],1),a("section",{staticClass:"section is-main-section"},[a("tiles",[a("card-component",{staticClass:"tile is-child",attrs:{title:t.formCardTitle,icon:"account-edit"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("b-field",{attrs:{label:"Avatar",horizontal:""}},[a("file-picker")],1),a("hr"),a("b-field",{attrs:{label:"Nombre",message:"Campo Requerido",horizontal:""}},[a("b-input",{attrs:{placeholder:"e.g. Hospital",required:""},model:{value:t.nameToEdit,callback:function(e){t.nameToEdit=e},expression:"nameToEdit"}})],1),a("hr"),a("div",{staticClass:"footer-menu-cliente"},[a("b-field",{attrs:{horizontal:""}},[a("b-button",{attrs:{type:"is-success",loading:t.isLoading,"native-type":"submit"},on:{click:function(e){return t.updateData()}}},[t._v("Guardar")])],1),a("router-link",{staticClass:"button is-danger",attrs:{slot:"right",to:"/admin"},slot:"right"},[t._v(" Cancelar ")])],1)],1)]),t.isProfileExists?a("card-component",{staticClass:"tile is-child",attrs:{title:"Client Profile",icon:"account"}},[a("user-avatar",{staticClass:"image has-max-width is-aligned-center",attrs:{avatar:t.form.avatar}}),a("hr"),a("b-field",{attrs:{label:"Nombre"}},[a("b-input",{attrs:{value:t.form.name,"custom-class":"is-static",readonly:""}})],1),a("hr"),a("b-field",[a("b-button",{attrs:{type:"is-danger",loading:t.isLoading,"native-type":"submit"},on:{click:function(e){return t.deleteData()}}},[t._v("Borrar")])],1)],1):t._e()],1)],1)],1)},r=[],o=(a("b0c0"),a("a9e3"),a("bc3a")),n=a.n(o),s=a("5a0c"),l=a.n(s),u=a("1e1d"),c=a("503b"),d=a("9e7c"),h=a("6df7"),m=a("3b73"),f=a("808f"),p={name:"HospitalForm",components:{UserAvatar:f["a"],FilePicker:m["a"],CardComponent:h["a"],Tiles:d["a"],HeroBar:c["a"],TitleBar:u["a"]},props:{id:{type:[String,Number],default:null}},data:function(){return{isLoading:!1,form:this.getClearFormObject(),nameToEdit:null,createdReadable:null,isProfileExists:!1}},computed:{titleStack:function(){var t;return t=this.isProfileExists?this.form.name:"Nuevo Hospital",["Hospital",t]},heroTitle:function(){return this.isProfileExists?this.form.name:"Nuevo Hospital"},heroRouterLinkTo:function(){return this.isProfileExists?{name:"hospital.new"}:"/admin"},heroRouterLinkLabel:function(){return this.isProfileExists?"Nuevo Hospital":"Dashboard Hospitales"},formCardTitle:function(){return this.isProfileExists?"Edit Hospital":"Nuevo Hospital"}},watch:{id:function(t){this.isProfileExists=!1,t?this.getData():(this.form=this.getClearFormObject(),this.nameToEdit=null)}},created:function(){this.getData()},methods:{getClearFormObject:function(){return{id:null,name:null,company:null,city:null,created_date:new Date,created_mm_dd_yyyy:null,progress:0}},getData:function(){var t=this;this.$route.params.id&&n()({method:"GET",url:"https://patas-app.herokuapp.com/api/hospital/".concat(this.$route.params.id),headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.name,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"hospital.new"})})).catch((function(e){t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))},updateData:function(){var t=this;this.isProfileExists?n()({method:"PUT",url:"https://patas-app.herokuapp.com/api/hospital/".concat(this.$route.params.id),headers:{"x-access-token":localStorage.getItem("jwt")},data:{name:this.nameToEdit}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.name,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"hospital.new"})})):n()({method:"POST",url:" https://patas-app.herokuapp.com/api/hospital",headers:{"x-access-token":localStorage.getItem("jwt")},data:{name:this.nameToEdit}}).then((function(e){var a=e.data;a?(t.isProfileExists=!0,t.form=a,t.nameToEdit=a.name,t.form.created_date=new Date(a.created_mm_dd_yyyy),t.createdReadable=l()(new Date(a.created_mm_dd_yyyy)).format("MMM D, YYYY")):t.$router.push({name:"client.new"})}))},deleteData:function(){var t=this;n()({method:"DELETE",url:"https://patas-app.herokuapp.com/api/hospital/".concat(this.$route.params.id),headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){t.$router.push({name:"Hospitales admin"})}))},input:function(t){this.createdReadable=l()(t).format("MMM D, YYYY")},submit:function(){var t=this;this.isLoading=!0,setTimeout((function(){t.isLoading=!1,t.$buefy.snackbar.open({message:"Demo only",queue:!1})}),500)}}},b=p,y=a("2877"),g=Object(y["a"])(b,i,r,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=client-form.9c3be2bc.js.map