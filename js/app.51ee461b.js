(function(e){function t(t){for(var i,a,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(i=!1)}i&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},a={app:0},o={app:0},r=[];function s(e){return l.p+"js/"+({"client-form~profile~tables":"client-form~profile~tables","client-form":"client-form",profile:"profile",tables:"tables",forms:"forms"}[e]||e)+"."+{"client-form~profile~tables":"c847034e","client-form":"9c3be2bc",profile:"aad795f8",tables:"154a461f",forms:"bc43eb8e"}[e]+".js"}function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={tables:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var i="css/"+({"client-form~profile~tables":"client-form~profile~tables","client-form":"client-form",profile:"profile",tables:"tables",forms:"forms"}[e]||e)+"."+{"client-form~profile~tables":"31d6cfe0","client-form":"31d6cfe0",profile:"31d6cfe0",tables:"8a665219",forms:"31d6cfe0"}[e]+".css",o=l.p+i,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var c=r[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===o))return t()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){c=m[s],u=c.getAttribute("data-href");if(u===i||u===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var i=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete a[e],d.parentNode.removeChild(d),n(r)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){a[e]=0})));var i=o[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(t,n){i=o[e]=[t,n]}));t.push(i[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var m=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",m.name="ChunkLoadError",m.type=i,m.request=a,n[1](m)}o[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/med_front/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var m=0;m<c.length;m++)t(c[m]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("99af"),n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("b107");var i=n("2b0e"),a=n("289d"),o=(n("45fc"),n("d3b7"),n("8c4f")),r=(n("b0c0"),n("96cf"),n("1da1")),s=n("2f62"),l=n("bc3a"),c=n.n(l);i["a"].use(s["a"]);var u=new s["a"].Store({state:{userId:null,userName:null,userEmail:null,userAvatar:null,userCompany:null,isNavBarVisible:!0,isFooterBarVisible:!0,isAsideVisible:!0,isAsideMobileExpanded:!1,isLogged:!1,isAdmin:!1},mutations:{isLogged:function(e,t){e.isLogged=t},isAdmin:function(e,t){e.isAdmin=t},basic:function(e,t){e[t.key]=t.value},loginDoctor:function(e,t){localStorage.setItem("jwt",t.accessToken),e.userId=t.id,e.userName=t.username,e.userEmail=t.email,e.userCompany=t.hospital},loginAdmin:function(e,t){localStorage.setItem("jwt",t.accessToken),e.userName=t.username,e.userEmail=t.email,e.userId=t.id},updateDoctor:function(e,t){e.userId=t.id,e.userName=t.username,e.userEmail=t.email,e.userCompany=t.hospital},logoutDoctor:function(e){localStorage.removeItem("jwt")},user:function(e,t){t.name&&(e.userName=t.name),t.email&&(e.userEmail=t.email),t.avatar&&(e.userAvatar=t.avatar)},asideMobileStateToggle:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i="has-aside-mobile-expanded";t=null!==n?n:!e.isAsideMobileExpanded,t?document.documentElement.classList.add(i):document.documentElement.classList.remove(i),e.isAsideMobileExpanded=t}},actions:{isLogged:function(e,t){e.commit("isLogged")},loginDoctor:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c()({method:"POST",url:"https://patas-app.herokuapp.com/api/doctor/signin",data:{username:t.username,password:t.password}});case 2:i=n.sent,200===i.status&&(e.commit("loginDoctor",i.data),e.commit("isLogged",!0),e.commit("isAdmin",!1));case 4:case"end":return n.stop()}}),n)})))()},logoutDoctor:function(e,t){e.commit("logoutDoctor"),e.commit("isLogged",!1),e.commit("isAdmin",!1)},updateUser:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,c()({method:"PUT",url:"https://patas-app.herokuapp.com/api/doctor/update/".concat(n.state.userId),headers:{"x-access-token":localStorage.getItem("jwt")},data:{username:t.username,email:t.email}});case 2:a=i.sent,200===a.status&&e.commit("updateDoctor",a.data);case 4:case"end":return i.stop()}}),i)})))()},loginAdmin:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c()({method:"POST",url:"https://patas-app.herokuapp.com/api/auth/signin",data:{username:t.username,password:t.password}});case 2:i=n.sent,200===i.status?(e.commit("loginAdmin",i.data),e.commit("isLogged",!0),e.commit("isAdmin",!0)):console.log(i);case 4:case"end":return n.stop()}}),n)})))()}}});i["a"].use(o["a"]);var m=[{meta:{title:"login",admin:!1,requiresAuth:!1},path:"/login",name:"login",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"a55b"))}},{meta:{title:"admin_login",admin:!0,requiresAuth:!1},path:"/admin/login",name:"admin_login",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"676a"))}},{meta:{title:"Dashboard",admin:!1,requiresAuth:!0},path:"/",name:"home",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"8840"))}},{meta:{title:"Tables",admin:!1,requiresAuth:!0},path:"/tables",name:"tables",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"8840"))}},{meta:{title:"Paciente",admin:!1,requiresAuth:!0},path:"/paciente/:id",name:"paciente",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"566d"))}},{meta:{title:"Forms",admin:!1,requiresAuth:!0},path:"/forms",name:"forms",component:function(){return n.e("forms").then(n.bind(null,"0894"))}},{meta:{title:"Profile",admin:!1,requiresAuth:!0},path:"/profile",name:"profile",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("profile")]).then(n.bind(null,"c66d"))}},{meta:{title:"New Client",admin:!1,requiresAuth:!0},path:"/client/new",name:"client.new",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("client-form")]).then(n.bind(null,"e96b"))}},{meta:{title:"Edit Client",admin:!1,requiresAuth:!0},path:"/client/:id",name:"client.edit",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("client-form")]).then(n.bind(null,"e96b"))},props:!0},{meta:{title:"Dashboard Admin",admin:!0,requiresAuth:!0},path:"/admin",name:"Hospitales admin",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"480a"))}},{meta:{title:"Dashboard Admin",admin:!0,requiresAuth:!0},path:"/admin/doctores",name:"Doctores admin",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"c2ee"))}},{meta:{title:"New Hospital",admin:!0,requiresAuth:!0},path:"/admin/hospital/new",name:"hospital.new",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"eff1"))}},{meta:{title:"Edit Hospital",admin:!0,requiresAuth:!0},path:"/hospital/:id",name:"hospital.edit",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("client-form")]).then(n.bind(null,"eff1"))},props:!0},{meta:{title:"New Doctor",admin:!0,requiresAuth:!0},path:"/admin/doctor/new",name:"doctor.new",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("tables")]).then(n.bind(null,"0152"))}},{meta:{title:"Edit Doctor",admin:!0,requiresAuth:!0},path:"/doctor/:id",name:"doctor.edit",component:function(){return Promise.all([n.e("client-form~profile~tables"),n.e("client-form")]).then(n.bind(null,"0152"))},props:!0}],d=new o["a"]({base:"/med_front/",routes:m,scrollBehavior:function(e,t,n){return n||{x:0,y:0}}});d.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuth})))if(null==localStorage.getItem("jwt"))n({path:"/login",params:{nextUrl:e.fullPath}});else{var i=u.state.isAdmin;e.matched.some((function(e){return e.meta.admin}))?i?n():n({name:"home"}):i?n({name:"Hospitales admin"}):n()}else if(null==localStorage.getItem("jwt"))n();else{var a=u.state.isAdmin;e.matched.some((function(e){return e.meta.admin}))?a?n():n({name:"home"}):a?n({name:"Hospitales admin"}):n()}}));var f=d,p=n("9483");Object(p["a"])("".concat("/med_front/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.logged?n("nav-bar"):e._e(),n("aside-menu",{attrs:{menu:e.menu}}),n("router-view")],1)},b=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{directives:[{name:"show",rawName:"v-show",value:e.isNavBarVisible,expression:"isNavBarVisible"}],staticClass:"navbar is-fixed-top",attrs:{id:"navbar-main"}},[n("div",{staticClass:"navbar-brand"},[n("a",{staticClass:"navbar-item is-hidden-desktop",on:{click:function(t){return t.preventDefault(),e.menuToggleMobile(t)}}},[n("b-icon",{attrs:{icon:e.menuToggleMobileIcon}})],1)]),n("div",{staticClass:"navbar-brand is-right"},[n("a",{staticClass:"navbar-item navbar-item-menu-toggle is-hidden-desktop",on:{click:function(t){return t.preventDefault(),e.menuNavBarToggle(t)}}},[n("b-icon",{attrs:{icon:e.menuNavBarToggleIcon,"custom-size":"default"}})],1)]),n("div",{staticClass:"navbar-menu fadeIn animated faster",class:{"is-active":e.isMenuNavBarActive}},[n("div",{staticClass:"navbar-end"},[n("nav-bar-menu",{staticClass:"has-divider has-user-avatar"},[n("user-avatar"),n("div",{staticClass:"is-user-name"},[n("span",[e._v(e._s(e.userName))])]),n("div",{staticClass:"navbar-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/profile","exact-active-class":"is-active"}},[n("b-icon",{attrs:{icon:"account","custom-size":"default"}}),n("span",[e._v("Perfil")])],1),n("hr",{staticClass:"navbar-divider"}),n("a",{staticClass:"navbar-item",on:{click:function(t){return e.logout()}}},[n("b-icon",{attrs:{icon:"logout","custom-size":"default"}}),n("span",[e._v("Cerrar Sesión")])],1)],1)],1)],1)])])},g=[],w=n("5530"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-item has-dropdown has-dropdown-with-icons",class:{"is-hoverable":e.isHoverable,"is-active":e.isDropdownActive},on:{click:e.toggle}},[n("a",{staticClass:"navbar-link is-arrowless"},[e._t("default"),n("b-icon",{attrs:{icon:e.toggleDropdownIcon,"custom-size":"default"}})],2),e._t("dropdown")],2)},k=[],y={name:"NavBarMenu",props:{isHoverable:{type:Boolean,default:!1}},data:function(){return{isDropdownActive:!1}},computed:{toggleDropdownIcon:function(){return this.isDropdownActive?"chevron-up":"chevron-down"}},mounted:function(){window.addEventListener("click",this.forceClose)},beforeDestroy:function(){window.removeEventListener("click",this.forceClose)},methods:{toggle:function(){this.isHoverable||(this.isDropdownActive=!this.isDropdownActive)},forceClose:function(e){this.$el.contains(e.target)||(this.isDropdownActive=!1)}}},_=y,C=n("2877"),D=Object(C["a"])(_,A,k,!1,null,null,null),N=D.exports,j=n("808f"),E={name:"NavBar",components:{UserAvatar:j["a"],NavBarMenu:N},data:function(){return{isMenuNavBarActive:!1}},computed:Object(w["a"])({menuNavBarToggleIcon:function(){return this.isMenuNavBarActive?"close":"dots-vertical"},menuToggleMobileIcon:function(){return this.isAsideMobileExpanded?"backburger":"forwardburger"}},Object(s["b"])(["isNavBarVisible","isAsideMobileExpanded","userName"])),mounted:function(){var e=this;this.$router.afterEach((function(){e.isMenuNavBarActive=!1}))},methods:{menuToggleMobile:function(){this.$store.commit("asideMobileStateToggle")},menuNavBarToggle:function(){this.isMenuNavBarActive=!this.isMenuNavBarActive},logout:function(){var e=this;this.$store.dispatch("logoutDoctor").then((function(){e.$router.push({path:"/login"})}))}}},x=E,O=Object(C["a"])(x,v,g,!1,null,null,null),P=O.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{directives:[{name:"show",rawName:"v-show",value:e.isAsideVisible,expression:"isAsideVisible"}],staticClass:"aside is-placed-left is-expanded"},[n("aside-tools",{attrs:{"is-main-menu":!0}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("b",[e._v("Tlaloc - TBD")])])]),n("div",{staticClass:"menu is-menu-main"},[e._l(e.menu,(function(t,i){return["string"===typeof t?n("p",{key:i,staticClass:"menu-label"},[e._v(" "+e._s(t)+" ")]):n("aside-menu-list",{key:i,attrs:{menu:t},on:{"menu-click":e.menuClick}})]}))],2)],1)},M=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aside-tools"},[n("div",{staticClass:"aside-tools-label"},[e.icon?n("b-icon",{attrs:{icon:e.icon,"custom-size":"default"}}):e._e(),e._t("label")],2)])},S=[],I={name:"AsideTools",props:{icon:{type:String,default:null},label:{type:String,default:null}}},L=I,q=Object(C["a"])(L,B,S,!1,null,null,null),$=q.exports,H=n("9a7b"),V={name:"AsideMenu",components:{AsideTools:$,AsideMenuList:H["default"]},props:{menu:{type:Array,default:function(){return[]}}},computed:Object(w["a"])({},Object(s["b"])(["isAsideVisible"])),methods:{menuClick:function(e){}}},z=V,U=Object(C["a"])(z,T,M,!1,null,null,null),R=U.exports,F={name:"Home",components:{AsideMenu:R,NavBar:P},computed:{logged:function(){return this.$store.state.isLogged},menu:function(){return!1===this.logged?["Login",[{to:"/login",icon:"hospital-building",label:"Ingresar Doctor"},{to:"/admin/login",icon:"clipboard-account",label:"Login Admin"}]]:this.$route.meta.admin?["Admin",[{to:"/admin",icon:"hospital-building",label:"Hospitales"},{to:"/admin/doctores",icon:"clipboard-account",label:"Doctores"}]]:["Hospital",[{to:"/",icon:"desktop-mac",label:"Pacientes"}]]}},created:function(){this.$store.commit("user",{name:"John Doe",email:"john@example.com",avatar:"https://avatars.dicebear.com/v2/gridy/John-Doe.svg"})}},J=F,K=Object(C["a"])(J,h,b,!1,null,null,null),G=K.exports,Q="Tlaloc - TBD";f.afterEach((function(e){u.commit("asideMobileStateToggle",!1),e.meta&&e.meta.title?document.title="".concat(e.meta.title," — ").concat(Q):document.title=Q})),i["a"].config.productionTip=!1,i["a"].use(a["a"]),new i["a"]({router:f,store:u,render:function(e){return e(G)}}).$mount("#app")},"808f":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"is-user-avatar"},[n("img",{attrs:{src:e.newUserAvatar,alt:e.userName}})])},a=[],o=(n("ac1f"),n("5319"),n("5530")),r=n("2f62"),s={name:"UserAvatar",props:{avatar:{type:String,default:null}},computed:Object(o["a"])({newUserAvatar:function(){if(this.avatar)return this.avatar;if(this.userAvatar)return this.userAvatar;var e="somename";return this.userName&&(e=this.userName.replace(/[^a-z0-9]+/i,"")),"https://avatars.dicebear.com/v2/human/".concat(e,".svg?options[mood][]=happy")}},Object(r["b"])(["userAvatar","userName"]))},l=s,c=n("2877"),u=Object(c["a"])(l,i,a,!1,null,null,null);t["a"]=u.exports},"9a7b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{class:{"menu-list":!e.isSubmenuList}},e._l(e.menu,(function(t,i){return n("aside-menu-item",{key:i,attrs:{item:t},on:{"menu-click":e.menuClick}})})),1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:{"is-active":e.isDropdownActive}},[n(e.componentIs,{tag:"component",class:{"has-icon":!!e.item.icon,"has-dropdown-icon":e.hasDropdown},attrs:{to:e.itemTo,href:e.itemHref,"exact-active-class":"is-active"},on:{click:e.menuClick}},[e.item.icon?n("b-icon",{class:{"has-update-mark":e.item.updateMark},attrs:{icon:e.item.icon,"custom-size":"default"}}):e._e(),e.item.label?n("span",{class:{"menu-item-label":!!e.item.icon}},[e._v(e._s(e.item.label))]):e._e(),e.hasDropdown?n("div",{staticClass:"dropdown-icon"},[n("b-icon",{attrs:{icon:e.dropdownIcon,"custom-size":"default"}})],1):e._e()],1),e.hasDropdown?n("aside-menu-list",{attrs:{menu:e.item.menu,"is-submenu-list":!0}}):e._e()],1)},r=[],s=(n("d3b7"),{name:"AsideMenuItem",components:{AsideMenuList:function(){return Promise.resolve().then(n.bind(null,"9a7b"))}},props:{item:{type:Object,default:null}},data:function(){return{isDropdownActive:!1}},computed:{componentIs:function(){return this.item.to?"router-link":"a"},hasDropdown:function(){return!!this.item.menu},dropdownIcon:function(){return this.isDropdownActive?"minus":"plus"},itemTo:function(){return this.item.to?this.item.to:null},itemHref:function(){return this.item.href?this.item.href:null}},methods:{menuClick:function(){this.$emit("menu-click",this.item),this.hasDropdown&&(this.isDropdownActive=!this.isDropdownActive)}}}),l=s,c=n("2877"),u=Object(c["a"])(l,o,r,!1,null,null,null),m=u.exports,d={name:"AsideMenuList",components:{AsideMenuItem:m},props:{isSubmenuList:{type:Boolean,default:!1},menu:{type:Array,default:function(){return[]}}},methods:{menuClick:function(e){this.$emit("menu-click",e)}}},f=d,p=Object(c["a"])(f,i,a,!1,null,null,null);t["default"]=p.exports},b107:function(e,t,n){}});
//# sourceMappingURL=app.51ee461b.js.map